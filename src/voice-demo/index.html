<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv=X-UA-Compatible content="ie=edge">
    <title>è¿…é£è¯­éŸ³å¬å†™ï¼ˆæµå¼ç‰ˆï¼‰WebAPI</title>
    <style>
        h1 {
            text-align: center;
        }

        .voice-box {
            display: flex;
            justify-content: center;
            margin: auto;
            padding: 20px;
            width: 650px;
            text-align: center;
            border: 1px solid gray;
            border-radius: 8px;
        }

        .voice-box .taste-button {
            padding: 10px 20px;
            background: #187cff;
            border: 1px solid;
            border-color: #478eea;
            color: #fff;
            text-align: center;
            border-radius: 3px;
            font-size: 18px;
            cursor: pointer;
        }

        .voice-box .output-box {
            padding: 6px;
            width: 500px;
            height: 50px;
            font-size: 18px;
            border: 1px solid gray;
        }

        pre {
            font-size: 16px;
            line-height: 32px;
        }
    </style>
</head>

<body>
    <h1>è¿…é£è¯­éŸ³å¬å†™ï¼ˆæµå¼ç‰ˆï¼‰WebAPI</h1>
    <hr><br />
    <section class="voice-box">
        <input type="text" class="output-box" id="result_output" />
        <button class="taste-button ready-button" id=taste_button>ğŸ™å¼€å§‹è¯†åˆ«</button>

    </section>
    <pre>
        <code>
           /*
            * è¯­éŸ³å¬å†™æµå¼æ¥å£ï¼Œç”¨äº1åˆ†é’Ÿå†…çš„å³æ—¶è¯­éŸ³è½¬æ–‡å­—æŠ€æœ¯ï¼Œæ”¯æŒå®æ—¶è¿”å›è¯†åˆ«ç»“æœï¼Œè¾¾åˆ°ä¸€è¾¹ä¸Šä¼ éŸ³é¢‘ä¸€è¾¹è·å¾—è¯†åˆ«æ–‡æœ¬çš„æ•ˆæœã€‚
            * è¯¥è¯­éŸ³èƒ½åŠ›æ˜¯é€šè¿‡Websocket APIçš„æ–¹å¼ç»™å¼€å‘è€…æä¾›ä¸€ä¸ªé€šç”¨çš„æ¥å£ã€‚
            * Websocket APIå…·å¤‡æµå¼ä¼ è¾“èƒ½åŠ›ï¼Œé€‚ç”¨äºéœ€è¦æµå¼æ•°æ®ä¼ è¾“çš„AIæœåŠ¡åœºæ™¯ï¼Œæ¯”å¦‚è¾¹è¯´è¯è¾¹è¯†åˆ«ã€‚
            * ç›¸è¾ƒäºSDKï¼ŒWebAPIå…·æœ‰è½»é‡ã€è·¨è¯­è¨€çš„ç‰¹ç‚¹ï¼›ç›¸è¾ƒäºHTTP APIï¼ŒWebsocket APIåè®®æœ‰åŸç”Ÿæ”¯æŒè·¨åŸŸçš„ä¼˜åŠ¿ã€‚

            * è¯­éŸ³å¬å†™æµå¼ WebAPI æ¥å£è°ƒç”¨ç¤ºä¾‹ æ¥å£æ–‡æ¡£ï¼ˆå¿…çœ‹ï¼‰ï¼š<a href="https://www.xfyun.cn/doc/asr/voicedictation/API.html" target="_blank">è¯­éŸ³å¬å†™ï¼ˆæµå¼ç‰ˆï¼‰WebAPIæ¥å£æ–‡æ¡£</a> 
            * webapi å¬å†™æœåŠ¡å‚è€ƒå¸–å­ï¼ˆå¿…çœ‹ï¼‰ï¼š<a href="http://bbs.xfyun.cn/forum.php?mod=viewthread&tid=38947&extra=" target="_blank">http://bbs.xfyun.cn/forum.php?mod=viewthread&tid=38947&extra=</a>
            * è¯­éŸ³å¬å†™æµå¼WebAPI æœåŠ¡ï¼Œçƒ­è¯ä½¿ç”¨æ–¹å¼ï¼šç™»é™†å¼€æ”¾å¹³å°https://www.xfyun.cn/åï¼Œæ‰¾åˆ°æ§åˆ¶å°--æˆ‘çš„åº”ç”¨---è¯­éŸ³å¬å†™---ä¸ªæ€§åŒ–çƒ­è¯ï¼Œä¸Šä¼ çƒ­è¯
            * æ³¨æ„ï¼šçƒ­è¯åªèƒ½åœ¨è¯†åˆ«çš„æ—¶å€™ä¼šå¢åŠ çƒ­è¯çš„è¯†åˆ«æƒé‡ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å¢åŠ ç›¸åº”è¯æ¡çš„è¯†åˆ«ç‡ï¼Œä½†å¹¶ä¸æ˜¯ç»å¯¹çš„ï¼Œå…·ä½“æ•ˆæœä»¥æ‚¨æµ‹è¯•ä¸ºå‡†ã€‚
           
            * é”™è¯¯ç é“¾æ¥ï¼š
            * <a href="https://www.xfyun.cn/document/error-code" target="_blank">https://www.xfyun.cn/document/error-code ï¼ˆcodeè¿”å›é”™è¯¯ç æ—¶å¿…çœ‹ï¼‰</a>
            * è¯­éŸ³å¬å†™æµå¼WebAPI æœåŠ¡ï¼Œæ–¹è¨€æˆ–å°è¯­ç§è¯•ç”¨æ–¹æ³•ï¼šç™»é™†å¼€æ”¾å¹³å°<a href="https://www.xfyun.cn" target="_blank">https://www.xfyun.cn</a>åï¼Œåœ¨æ§åˆ¶å°--è¯­éŸ³å¬å†™ï¼ˆæµå¼ï¼‰--æ–¹è¨€/è¯­ç§å¤„æ·»åŠ 
            * æ·»åŠ åä¼šæ˜¾ç¤ºè¯¥æ–¹è¨€/è¯­ç§çš„å‚æ•°å€¼
            */
            
            1. websocketè¿æ¥ï¼šåˆ¤æ–­æµè§ˆå™¨æ˜¯å¦å…¼å®¹ï¼Œè·å–websocket urlå¹¶è¿æ¥ï¼Œè¿™é‡Œä¸ºäº†æ–¹ä¾¿æœ¬åœ°ç”Ÿæˆwebsocket url
            2. è·å–æµè§ˆå™¨å½•éŸ³æƒé™ï¼šåˆ¤æ–­æµè§ˆå™¨æ˜¯å¦å…¼å®¹ï¼Œè·å–æµè§ˆå™¨å½•éŸ³æƒé™ï¼Œ
            3. jsè·å–æµè§ˆå™¨å½•éŸ³æ•°æ®
            4. å°†å½•éŸ³æ•°æ®å¤„ç†ä¸ºæ–‡æ¡£è¦æ±‚çš„æ•°æ®æ ¼å¼ï¼šé‡‡æ ·ç‡16kæˆ–8Kã€ä½é•¿16bitã€å•å£°é“ï¼›è¯¥æ“ä½œå±äºçº¯æ•°æ®å¤„ç†ï¼Œä½¿ç”¨webWorkå¤„ç†
            5. æ ¹æ®è¦æ±‚ï¼ˆé‡‡ç”¨base64ç¼–ç ï¼Œæ¯æ¬¡å‘é€éŸ³é¢‘é—´éš”40msï¼Œæ¯æ¬¡å‘é€éŸ³é¢‘å­—èŠ‚æ•°1280Bï¼‰å°†å¤„ç†åçš„æ•°æ®é€šè¿‡websocketä¼ ç»™æœåŠ¡å™¨ï¼Œ
            6. å®æ—¶æ¥æ”¶websocketè¿”å›çš„æ•°æ®å¹¶è¿›è¡Œå¤„ç†
        </code>
    </pre>


    <script src="./js/jquery.js"></script>
    <script src="./js/crypto-js.js"></script>

    <!-- APPID 5ec244d5
    APISecret 37912e3e3f205e2a6201ec290452470a
    APIKey 78b6c006f1f3df5e24d315e3dff09212 -->

    <script>

        let transWorker = new Worker('./js/transcode.worker.js')
        //APPIDï¼ŒAPISecretï¼ŒAPIKeyåœ¨æ§åˆ¶å°-æˆ‘çš„åº”ç”¨-è¯­éŸ³å¬å†™ï¼ˆæµå¼ç‰ˆï¼‰é¡µé¢è·å–
        // const APPID = '5ec244d5'
        // const API_SECRET = '37912e3e3f205e2a6201ec290452470a'
        // const API_KEY = '78b6c006f1f3df5e24d315e3dff09212'

        const APPID = '5ec4fc34'
        const API_SECRET = 'b92978c8f5e300d74aa9f38db83db653'
        const API_KEY = '82868d316dd92d4e0b8c2f3e981a3c10'

        /**
         * è·å–websocket url
         * è¯¥æ¥å£éœ€è¦åç«¯æä¾›ï¼Œè¿™é‡Œä¸ºäº†æ–¹ä¾¿å‰ç«¯å¤„ç†
         */
        function getWebSocketUrl() {
            return new Promise((resolve, reject) => {
                // è¯·æ±‚åœ°å€æ ¹æ®è¯­ç§ä¸åŒå˜åŒ–
                var url = 'wss://iat-api.xfyun.cn/v2/iat'
                var host = 'iat-api.xfyun.cn'
                var apiKey = API_KEY
                var apiSecret = API_SECRET
                var date = new Date().toGMTString()
                var algorithm = 'hmac-sha256'
                var headers = 'host date request-line'
                var signatureOrigin = `host: ${host}\ndate: ${date}\nGET /v2/iat HTTP/1.1`
                var signatureSha = CryptoJS.HmacSHA256(signatureOrigin, apiSecret)
                var signature = CryptoJS.enc.Base64.stringify(signatureSha)
                var authorizationOrigin = `api_key="${apiKey}", algorithm="${algorithm}", headers="${headers}", signature="${signature}"`
                var authorization = btoa(authorizationOrigin)
                url = `${url}?authorization=${authorization}&date=${date}&host=${host}`
                resolve(url)
            })
        }
        class IatRecorder {
            constructor({ language, accent, appId } = {}) {
                let self = this
                this.status = 'null'
                this.language = language || 'zh_cn'
                this.accent = accent || 'mandarin'
                this.appId = appId || APPID
                // è®°å½•éŸ³é¢‘æ•°æ®
                this.audioData = []
                // è®°å½•å¬å†™ç»“æœ
                this.resultText = ''
                // wpgsä¸‹çš„å¬å†™ç»“æœéœ€è¦ä¸­é—´çŠ¶æ€è¾…åŠ©è®°å½•
                this.resultTextTemp = ''
                transWorker.onmessage = function (event) {
                    self.audioData.push(...event.data)
                }
            }
            // ä¿®æ”¹å½•éŸ³å¬å†™çŠ¶æ€
            setStatus(status) {
                this.onWillStatusChange && this.status !== status && this.onWillStatusChange(this.status, status)
                this.status = status
            }
            setResultText({ resultText, resultTextTemp } = {}) {
                this.onTextChange && this.onTextChange(resultTextTemp || resultText || '')
                resultText !== undefined && (this.resultText = resultText)
                resultTextTemp !== undefined && (this.resultTextTemp = resultTextTemp)
            }
            // ä¿®æ”¹å¬å†™å‚æ•°
            setParams({ language, accent } = {}) {
                language && (this.language = language)
                accent && (this.accent = accent)
            }
            // è¿æ¥websocket
            connectWebSocket() {
                return getWebSocketUrl().then(url => {
                    let iatWS
                    if ('WebSocket' in window) {
                        iatWS = new WebSocket(url)
                    } else if ('MozWebSocket' in window) {
                        iatWS = new MozWebSocket(url)
                    } else {
                        alert('æµè§ˆå™¨ä¸æ”¯æŒWebSocket')
                        return
                    }
                    this.webSocket = iatWS
                    this.setStatus('init')
                    iatWS.onopen = e => {
                        this.setStatus('ing')
                        // é‡æ–°å¼€å§‹å½•éŸ³
                        setTimeout(() => {
                            this.webSocketSend()
                        }, 500)
                    }
                    iatWS.onmessage = e => {
                        this.result(e.data)
                    }
                    iatWS.onerror = e => {
                        this.recorderStop()
                    }
                    iatWS.onclose = e => {
                        this.recorderStop()
                    }
                })
            }
            // åˆå§‹åŒ–æµè§ˆå™¨å½•éŸ³
            recorderInit() {
                navigator.getUserMedia =
                    navigator.getUserMedia ||
                    navigator.webkitGetUserMedia ||
                    navigator.mozGetUserMedia ||
                    navigator.msGetUserMedia

                // åˆ›å»ºéŸ³é¢‘ç¯å¢ƒ
                try {
                    this.audioContext = new (window.AudioContext || window.webkitAudioContext)()
                    this.audioContext.resume()
                    if (!this.audioContext) {
                        alert('æµè§ˆå™¨ä¸æ”¯æŒwebAudioApiç›¸å…³æ¥å£')
                        return
                    }
                } catch (e) {
                    if (!this.audioContext) {
                        alert('æµè§ˆå™¨ä¸æ”¯æŒwebAudioApiç›¸å…³æ¥å£')
                        return
                    }
                }

                // è·å–æµè§ˆå™¨å½•éŸ³æƒé™
                if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                    navigator.mediaDevices
                        .getUserMedia({
                            audio: true,
                            video: false,
                        })
                        .then(stream => {
                            getMediaSuccess(stream)
                        })
                        .catch(e => {
                            getMediaFail(e)
                        })
                } else if (navigator.getUserMedia) {
                    navigator.getUserMedia(
                        {
                            audio: true,
                            video: false,
                        },
                        stream => {
                            getMediaSuccess(stream)
                        },
                        function (e) {
                            getMediaFail(e)
                        }
                    )
                } else {
                    if (navigator.userAgent.toLowerCase().match(/chrome/) && location.origin.indexOf('https://') < 0) {
                        alert('chromeä¸‹è·å–æµè§ˆå™¨å½•éŸ³åŠŸèƒ½ï¼Œå› ä¸ºå®‰å…¨æ€§é—®é¢˜ï¼Œéœ€è¦åœ¨localhostæˆ–127.0.0.1æˆ–httpsä¸‹æ‰èƒ½è·å–æƒé™')
                    } else {
                        alert('æ— æ³•è·å–æµè§ˆå™¨å½•éŸ³åŠŸèƒ½ï¼Œè¯·å‡çº§æµè§ˆå™¨æˆ–ä½¿ç”¨chrome')
                    }
                    this.audioContext && this.audioContext.close()
                    return
                }
                // è·å–æµè§ˆå™¨å½•éŸ³æƒé™æˆåŠŸçš„å›è°ƒ
                let getMediaSuccess = stream => {
                    console.log('getMediaSuccess')
                    // åˆ›å»ºä¸€ä¸ªç”¨äºé€šè¿‡JavaScriptç›´æ¥å¤„ç†éŸ³é¢‘
                    this.scriptProcessor = this.audioContext.createScriptProcessor(0, 1, 1)
                    this.scriptProcessor.onaudioprocess = e => {
                        console.log(e.inputBuffer.getChannelData(0))
                        // å»å¤„ç†éŸ³é¢‘æ•°æ®
                        if (this.status === 'ing') {
                            transWorker.postMessage(e.inputBuffer.getChannelData(0))
                        }
                    }
                    // åˆ›å»ºä¸€ä¸ªæ–°çš„MediaStreamAudioSourceNode å¯¹è±¡ï¼Œä½¿æ¥è‡ªMediaStreamçš„éŸ³é¢‘å¯ä»¥è¢«æ’­æ”¾å’Œæ“ä½œ
                    this.mediaSource = this.audioContext.createMediaStreamSource(stream)
                    // è¿æ¥
                    this.mediaSource.connect(this.scriptProcessor)
                    this.scriptProcessor.connect(this.audioContext.destination)
                    this.connectWebSocket()
                }

                let getMediaFail = (e) => {
                    alert('è¯·æ±‚éº¦å…‹é£å¤±è´¥')
                    console.log(e)
                    this.audioContext && this.audioContext.close()
                    this.audioContext = undefined
                    // å…³é—­websocket
                    if (this.webSocket && this.webSocket.readyState === 1) {
                        this.webSocket.close()
                    }
                }
            }
            recorderStart() {
                if (!this.audioContext) {
                    this.recorderInit()
                } else {
                    this.audioContext.resume()
                    this.connectWebSocket()
                }
            }
            // æš‚åœå½•éŸ³
            recorderStop() {
                // safariä¸‹suspendåå†æ¬¡resumeå½•éŸ³å†…å®¹å°†æ˜¯ç©ºç™½ï¼Œè®¾ç½®safariä¸‹ä¸åšsuspend
                if (!(/Safari/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgen))) {
                    this.audioContext && this.audioContext.suspend()
                }
                this.setStatus('end')
            }
            // å¤„ç†éŸ³é¢‘æ•°æ®
            transAudioData(audioData) {
                audioData = transAudioData.transaction(audioData)
                this.audioData.push(...audioData)
            }
            // å¯¹å¤„ç†åçš„éŸ³é¢‘æ•°æ®è¿›è¡Œbase64ç¼–ç ï¼Œ
            toBase64(buffer) {
                var binary = ''
                var bytes = new Uint8Array(buffer)
                var len = bytes.byteLength
                for (var i = 0; i < len; i++) {
                    binary += String.fromCharCode(bytes[i])
                }
                return window.btoa(binary)
            }
            // å‘webSocketå‘é€æ•°æ®
            webSocketSend() {
                if (this.webSocket.readyState !== 1) {
                    return
                }
                let audioData = this.audioData.splice(0, 1280)
                var params = {
                    common: {
                        app_id: this.appId,
                    },
                    business: {
                        language: this.language, //å°è¯­ç§å¯åœ¨æ§åˆ¶å°--è¯­éŸ³å¬å†™ï¼ˆæµå¼ï¼‰--æ–¹è¨€/è¯­ç§å¤„æ·»åŠ è¯•ç”¨
                        domain: 'iat',
                        accent: this.accent, //ä¸­æ–‡æ–¹è¨€å¯åœ¨æ§åˆ¶å°--è¯­éŸ³å¬å†™ï¼ˆæµå¼ï¼‰--æ–¹è¨€/è¯­ç§å¤„æ·»åŠ è¯•ç”¨
                        vad_eos: 5000,
                        dwa: 'wpgs', //ä¸ºä½¿è¯¥åŠŸèƒ½ç”Ÿæ•ˆï¼Œéœ€åˆ°æ§åˆ¶å°å¼€é€šåŠ¨æ€ä¿®æ­£åŠŸèƒ½ï¼ˆè¯¥åŠŸèƒ½å…è´¹ï¼‰
                    },
                    data: {
                        status: 0,
                        format: 'audio/L16;rate=16000',
                        encoding: 'raw',
                        audio: this.toBase64(audioData),
                    },
                }
                this.webSocket.send(JSON.stringify(params))
                this.handlerInterval = setInterval(() => {
                    // websocketæœªè¿æ¥
                    if (this.webSocket.readyState !== 1) {
                        this.audioData = []
                        clearInterval(this.handlerInterval)
                        return
                    }
                    if (this.audioData.length === 0) {
                        if (this.status === 'end') {
                            this.webSocket.send(
                                JSON.stringify({
                                    data: {
                                        status: 2,
                                        format: 'audio/L16;rate=16000',
                                        encoding: 'raw',
                                        audio: '',
                                    },
                                })
                            )
                            this.audioData = []
                            clearInterval(this.handlerInterval)
                        }
                        return false
                    }
                    audioData = this.audioData.splice(0, 1280)
                    // ä¸­é—´å¸§
                    this.webSocket.send(
                        JSON.stringify({
                            data: {
                                status: 1,
                                format: 'audio/L16;rate=16000',
                                encoding: 'raw',
                                audio: this.toBase64(audioData),
                            },
                        })
                    )
                }, 40)
            }
            result(resultData) {
                // è¯†åˆ«ç»“æŸ
                let jsonData = JSON.parse(resultData)
                if (jsonData.data && jsonData.data.result) {
                    let data = jsonData.data.result
                    let str = ''
                    let resultStr = ''
                    let ws = data.ws
                    for (let i = 0; i < ws.length; i++) {
                        str = str + ws[i].cw[0].w
                    }
                    // å¼€å¯wpgsä¼šæœ‰æ­¤å­—æ®µ(å‰æï¼šåœ¨æ§åˆ¶å°å¼€é€šåŠ¨æ€ä¿®æ­£åŠŸèƒ½)
                    // å–å€¼ä¸º "apd"æ—¶è¡¨ç¤ºè¯¥ç‰‡ç»“æœæ˜¯è¿½åŠ åˆ°å‰é¢çš„æœ€ç»ˆç»“æœï¼›å–å€¼ä¸º"rpl" æ—¶è¡¨ç¤ºæ›¿æ¢å‰é¢çš„éƒ¨åˆ†ç»“æœï¼Œæ›¿æ¢èŒƒå›´ä¸ºrgå­—æ®µ
                    if (data.pgs) {
                        if (data.pgs === 'apd') {
                            // å°†resultTextTempåŒæ­¥ç»™resultText
                            this.setResultText({
                                resultText: this.resultTextTemp,
                            })
                        }
                        // å°†ç»“æœå­˜å‚¨åœ¨resultTextTempä¸­
                        this.setResultText({
                            resultTextTemp: this.resultText + str,
                        })
                    } else {
                        this.setResultText({
                            resultText: this.resultText + str,
                        })
                    }
                }
                if (jsonData.code === 0 && jsonData.data.status === 2) {
                    this.webSocket.close()
                }
                if (jsonData.code !== 0) {
                    this.webSocket.close()
                    console.log(`${jsonData.code}:${jsonData.message}`)
                }
            }
            start() {
                this.recorderStart()
                this.setResultText({ resultText: '', resultTextTemp: '' })
            }
            stop() {
                this.recorderStop()
            }
        }

        // ======================å¼€å§‹è°ƒç”¨=============================
        let iatRecorder = new IatRecorder()
        let countInterval
        // çŠ¶æ€æ”¹å˜æ—¶å¤„ç½š
        iatRecorder.onWillStatusChange = function (oldStatus, status) {
            // å¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œé¡µé¢ä¸­ä¸€äº›äº¤äº’é€»è¾‘å¤„ç†ï¼šå€’è®¡æ—¶ï¼ˆå¬å†™åªæœ‰60sï¼‰,å½•éŸ³çš„åŠ¨ç”»ï¼ŒæŒ‰é’®äº¤äº’ç­‰
            // æŒ‰é’®ä¸­çš„æ–‡å­—
            let text = {
                null: 'å¼€å§‹è¯†åˆ«', // æœ€å¼€å§‹çŠ¶æ€
                init: 'å¼€å§‹è¯†åˆ«', // åˆå§‹åŒ–çŠ¶æ€
                ing: 'ç»“æŸè¯†åˆ«', // æ­£åœ¨å½•éŸ³çŠ¶æ€
                end: 'å¼€å§‹è¯†åˆ«', // ç»“æŸçŠ¶æ€
            }
            let senconds = 0
            $('.taste-button')
                .removeClass(`status-${oldStatus}`)
                .addClass(`status-${status}`)
                .text(text[status])
            if (status === 'ing') {
                $('hr').addClass('hr')
                $('.taste-content').css('display', 'none')
                $('.start-taste').addClass('flex-display-1')
                // å€’è®¡æ—¶ç›¸å…³
                countInterval = setInterval(() => {
                    senconds++
                    $('.used-time').text(`0${Math.floor(senconds / 60)}ï¼š${Math.floor(senconds / 10)}${senconds % 10}`)
                    if (senconds >= 60) {
                        this.stop()
                        clearInterval(countInterval)
                    }
                }, 1000)
            } else if (status === 'init') {
                $('.time-box').show()
                $('.used-time').text('00ï¼š00')
            } else {
                $('.time-box').hide()
                $('hr').removeClass('hr')
                clearInterval(countInterval)
            }
        }
        // ç›‘å¬è¯†åˆ«ç»“æœçš„å˜åŒ–
        iatRecorder.onTextChange = function (text) {
            $('#result_output').val(text)
        }
        $('#taste_button, .taste-button').click(function () {
            if (iatRecorder.status === 'ing') {
                iatRecorder.stop()
            } else {
                iatRecorder.start()
            }
        })


        // // ç›‘å¬è¯†åˆ«ç»“æœçš„å˜åŒ–
        // V.onTextChange = function (text) {
        //     document.querySelector('#result_output').value = text;
        // }

        // document.querySelector('#taste_button').onclick = () => {
        //     V.start();
        // }

    </script>
</body>

</html>